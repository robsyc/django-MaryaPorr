{% extends "master.html" %}

{% block content %}

<!-- Hero page -->
<div class="px-4 py-4 my-4 my-md-5 text-center">
  <h1 class="display-5 fw-bold">MaryaPorr</h1>
  <div class="col-lg-6 mx-auto">
    <h2 class="mb-4">To end malnutrition once and for all!</h1>
    <p class="lead mb-4">MaryaPorr is a highly nutritious ready-to-use therapeutic porridge to treat severe acute malnutrition in children.</p>
    <div class="d-grid gap-3 d-sm-flex justify-content-sm-center">
      <a href="{% url 'products' %}">
        <button class="btn btn-primary btn-lg">See our products</button>
      </a>
      <a href="{% url 'about' %}">
        <button class="btn btn-outline-success btn-lg">Learn who we are</button>
      </a>
    </div>
  </div>
</div>


  <!-- <form method="post">
    {% csrf_token %}
    <button class="btn btn-secondary" type="submit">Purchase!</button>
  </form> -->

<!-- Carousel -->
<div class="text-center">
  <div class="row mx-auto my-auto justify-content-center">
    <div id="recipeCarousel" class="carousel slide" data-bs-ride="carousel">
      <div class="carousel-inner" role="listbox">
        <div class="carousel-item active" data-bs-interval="5000">
          <div class="col-md-3">
            <div class="card">
              <div class="card-img">
                <img src="/static/media/img/kids_handinhand.jpg" class="img-fluid" alt="Happy kids shoulder to shoulder">
              </div>
            </div>
          </div>
        </div>
        <div class="carousel-item" data-bs-interval="4000">
          <div class="col-md-3">
            <div class="card">
              <div class="card-img">
                <img src="/static/media/img/zoom_in.jpg" class="img-fluid" alt="Zoom in on African child">
              </div>
            </div>
          </div>
        </div>
        <div class="carousel-item" data-bs-interval="4000">
          <div class="col-md-3">
            <div class="card">
              <div class="card-img">
                <img src="/static/media/img/maryam.jpg" class="img-fluid" alt="Maryam and her promotors">
              </div>
            </div>
          </div>
        </div>
        <div class="carousel-item" data-bs-interval="4000">
          <div class="col-md-3">
            <div class="card">
              <div class="card-img">
                <img src="/static/media/img/kid_w_aid.jpg" class="img-fluid" alt="Malnourished child getting medical aid">
              </div>
            </div>
          </div>
        </div>
        <div class="carousel-item" data-bs-interval="4000">
          <div class="col-md-3">
            <div class="card">
              <div class="card-img">
                <img src="/static/media/img/cricket.jpg" class="img-fluid" alt="Zoomed in picture of a cricket">
              </div>
            </div>
          </div>
        </div>
        <div class="carousel-item" data-bs-interval="4000">
          <div class="col-md-3">
            <div class="card">
              <div class="card-img">
                <img src="/static/media/img/mother_feeding_child.jpg" class="img-fluid" alt="Mother feeding her child">
              </div>
            </div>
          </div>
        </div>
        <div class="carousel-item" data-bs-interval="4000">
          <div class="col-md-3">
            <div class="card">
              <div class="card-img">
                <img src="/static/media/img/lots_of_kids.jpg" class="img-fluid" alt="A crowd of happy kids in blue school clothes">
              </div>
            </div>
          </div>
        </div>
        <div class="carousel-item" data-bs-interval="4000">
          <div class="col-md-3">
            <div class="card">
              <div class="card-img">
                <img src="/static/media/img/porride_in_funnel.jpg" class="img-fluid" alt="Porridge in a funnel">
              </div>
            </div>
          </div>
        </div>
      </div>
      <a class="carousel-control-prev bg-transparent w-aut" href="#recipeCarousel" role="button" data-bs-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      </a>
      <a class="carousel-control-next bg-transparent w-aut" href="#recipeCarousel" role="button" data-bs-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
      </a>
    </div>
  </div>		
</div>

<section class="reveal">
  <div class="container-md my-5">
    <h1 class="fw-bold py-2">
      Children are suffering from malnutrition
    </h1>
    <div class="container my-4">
      <div class="row">
        <div class="col-md-6 mb-4 mb-md-0">
          <img src="/static/media/img/kid_w_aid.jpg" class="img-fluid" alt="Malnourished child receiving medical aid">
          <p class="text-center mt-2">Malnourished child receiving medical aid</p>
        </div>
        <div class="col-md-6">
          <p>
            The <a href="https://www.who.int/news-room/fact-sheets/detail/malnutrition" target="_blank">World Health Organization (WHO)</a> 
            informs us that malnutrition in children is a major public health issue.
          </p>
          <ul>
            <li>Nearly half of deaths among children under 5 years of age are linked to undernutrition.</li>
            <li>In 2022, 149 million children under 5 were estimated to be stunted (too short for age), 45 million were estimated to be wasted (too thin for height).</li>
            <li>In Africa, 50% of preschool children have at least one micronutrient deficiency.</li>
          </ul>
          <div class="card shadow-sm mx-1 my-4 p-1">
            <div class="card-body d-flex align-items-center">
              <a href="https://www.linkedin.com/in/maryam-imbumi-11113b79/" target="_blank">
                <img src="https://media.licdn.com/dms/image/v2/C4D03AQFKHlUfY_CF5g/profile-displayphoto-shrink_800_800/profile-displayphoto-shrink_800_800/0/1604139546043?e=1735171200&v=beta&t=cnfekVRmTpmCd6Dc1q0aTXfMqcSqfK_d9IOOaKVz4PU" 
                     alt="Maryam Imbumi" 
                     class="rounded-circle me-3" 
                     style="width: 50px; height: 50px;">
              </a>
              <div>
                <div class="mb-1">
                  <cite>Growing up in Kenya, twice I almost died because of hunger and malnutrition.</cite>
                </div>
                <div class="text-muted">
                  - Our founder <a href="https://www.linkedin.com/in/maryam-imbumi-11113b79/" target="_blank">Maryam Imbumi</a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<section class="reveal">
  <div class="container my-5">
    <div class="row">
      <div class="col-md-5 mx-auto my-auto mb-3 mb-md-auto">
        <p class="lead text-center text-md-end my-auto">
          Every 10 seconds, a child dies from malnutrition...
        </p>
      </div>
      <div 
      class="col-md-2 mx-auto my-auto d-flex justify-content-center align-items-center position-relative" 
      style="height: 200px;">
        <div style="z-index: 1; position: absolute;">
          <div class="triangle mb-5"></div>
        </div>
        <div style="z-index: 2; position: absolute;" class="lead text-center fs-1" id="incrementing-number">0</div>
      </div>
      <div class="col-md-5 mx-auto my-auto">
        <p class="lead text-center text-md-start my-auto">
          ...since you started reading this page
        </p>
      </div>
    </div>
  </div>
</section>

<section class="reveal">
  <div class="container-md my-5">
    <h1 class="fw-bold">
      Insects are a highly nutritious and sustainable food source
    </h1>
  </div>
</section>

<section class="reveal">
  <div class="container-md my-5">
    <h1 class="fw-bold">
      Relief funds should be spent on healthy food
    </h1>
  </div>
</section>

<style>
  /* Slideshow Images */
  @media (max-width: 767px) {
		.carousel-inner .carousel-item > div {
			display: none;
		}
		.carousel-inner .carousel-item > div:first-child {
			display: block;
		}
	}
	.carousel-inner .carousel-item.active,
	.carousel-inner .carousel-item-next,
	.carousel-inner .carousel-item-prev {
		display: flex;
	}
	@media (min-width: 768px) {
		.carousel-inner .carousel-item-end.active,
		.carousel-inner .carousel-item-next {
			transform: translateX(25%);
		}
		.carousel-inner .carousel-item-start.active, 
		.carousel-inner .carousel-item-prev {
			transform: translateX(-25%);
		}
	}
	.carousel-inner .carousel-item-end,
	.carousel-inner .carousel-item-start { 
		transform: translateX(0);
	}

  /* Triangle Counter */
  .triangle {
  --r:8px; /* border radius */
  --b:20px; /* border width */
  width: 200px;
  aspect-ratio: 1/cos(30deg);

  --_g:calc(tan(60deg)*var(--r)) bottom var(--r),#ff0000 98%,#0000 101%;
  -webkit-mask:
    conic-gradient(from -30deg at 50% calc(200% - 3*var(--r)/2),#000 60deg,#0000 0)
     0 100%/100% calc(100% - 3*var(--r)/2) no-repeat,
    radial-gradient(var(--r) at 50% calc(2*var(--r)),#000 98%,#0000 101%),
    radial-gradient(var(--r) at left  var(--_g)),
    radial-gradient(var(--r) at right var(--_g));
  background: hsla(3, 100%, 61%, 0.40);
  clip-path: polygon(
    50% 0,100% 100%,0 100%,50% 0,
    50% var(--b),calc(var(--b)*cos(30deg)) calc(100% - var(--b)/2),calc(100% - var(--b)*cos(30deg)) calc(100% - var(--b)/2),50% var(--b));
  overflow: hidden;
  }
  .triangle::before {
    content: '';
    position: absolute;
    z-index: -1;
    left: -50%;
    top: -50%;
    width: 200%;
    height: 200%;
    background-image: conic-gradient(
      from -45deg,
      transparent, 
      hsl(3, 100%, 61%), 
      transparent 30%
    );
    animation: rotate 10s linear infinite;
  }

  @keyframes rotate {
    100% {
      transform: rotate(1turn);
    }
  }
</style>

<script>
  // Slide show
  let items = document.querySelectorAll('.carousel .carousel-item')
  items.forEach((el) => {
    const minPerSlide = 4
    let next = el.nextElementSibling
    for (var i=1; i<minPerSlide; i++) {
      if (!next) {
          // wrap carousel by using first child
          next = items[0]
      }
      let cloneChild = next.cloneNode(true)
      el.appendChild(cloneChild.children[0])
      next = next.nextElementSibling
  }
  })

  // Triangle Counter
  let count = 0;
  const incrementingNumber = document.getElementById('incrementing-number');
  
  setInterval(() => {
    count++;
    incrementingNumber.textContent = count;
  }, 10000);

  // ScrollReveal
  ScrollReveal().reveal('.reveal', {
    delay: 200,
    duration: 1000,
    distance: '50px',
    origin: 'bottom',
    reset: false
  });
</script>

{% endblock %}
