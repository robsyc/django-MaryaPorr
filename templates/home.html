{% extends "master.html" %}

{% block content %}

<div class="px-4 py-5 my-4 my-md-5 text-center">
  <h1 class="display-5 fw-bold">MaryaPorr</h1>
  <div class="col-lg-6 mx-auto">
    <h2 class="mb-4">To end malnutrition once and for all!</h1>
    <p class="lead mb-4">MaryaPorr is a highly nutritious ready-to-use therapeutic porridge to treat severe acute malnutrition in children.</p>
    <div class="d-grid gap-3 d-sm-flex justify-content-sm-center">
      <a href="{% url 'products' %}">
        <button class="btn btn-primary btn-lg">See our products</button>
      </a>
      <a href="{% url 'about' %}">
        <button class="btn btn-outline-success btn-lg">Learn who we are</button>
      </a>
    </div>
  </div>
</div>


  <!-- <form method="post">
    {% csrf_token %}
    <button class="btn btn-secondary" type="submit">Purchase!</button>
  </form> -->

<!-- Carousel -->
<div class="text-center">
  <div class="row mx-auto my-auto justify-content-center">
    <div id="recipeCarousel" class="carousel slide" data-bs-ride="carousel">
      <div class="carousel-inner" role="listbox">
        <div class="carousel-item active" data-bs-interval="5000">
          <div class="col-md-3">
            <div class="card">
              <div class="card-img">
                <img src="/static/media/img/kids_handinhand.jpg" class="img-fluid" alt="Happy kids shoulder to shoulder">
              </div>
            </div>
          </div>
        </div>
        <div class="carousel-item" data-bs-interval="4000">
          <div class="col-md-3">
            <div class="card">
              <div class="card-img">
                <img src="/static/media/img/zoom_in.jpg" class="img-fluid" alt="Zoom in on African child">
              </div>
            </div>
          </div>
        </div>
        <div class="carousel-item" data-bs-interval="4000">
          <div class="col-md-3">
            <div class="card">
              <div class="card-img">
                <img src="/static/media/img/maryam.jpg" class="img-fluid" alt="Maryam and her promotors">
              </div>
            </div>
          </div>
        </div>
        <div class="carousel-item" data-bs-interval="4000">
          <div class="col-md-3">
            <div class="card">
              <div class="card-img">
                <img src="/static/media/img/kid_w_aid.jpg" class="img-fluid" alt="Child getting medical aid">
              </div>
            </div>
          </div>
        </div>
        <div class="carousel-item" data-bs-interval="4000">
          <div class="col-md-3">
            <div class="card">
              <div class="card-img">
                <img src="/static/media/img/cricket.jpg" class="img-fluid" alt="Zoomed in picture of a cricket">
              </div>
            </div>
          </div>
        </div>
        <div class="carousel-item" data-bs-interval="4000">
          <div class="col-md-3">
            <div class="card">
              <div class="card-img">
                <img src="/static/media/img/mother_feeding_child.jpg" class="img-fluid" alt="Mother feeding her child">
              </div>
            </div>
          </div>
        </div>
        <div class="carousel-item" data-bs-interval="4000">
          <div class="col-md-3">
            <div class="card">
              <div class="card-img">
                <img src="/static/media/img/lots_of_kids.jpg" class="img-fluid" alt="A crowd of happy kids in blue school clothes">
              </div>
            </div>
          </div>
        </div>
        <div class="carousel-item" data-bs-interval="4000">
          <div class="col-md-3">
            <div class="card">
              <div class="card-img">
                <img src="/static/media/img/porride_in_funnel.jpg" class="img-fluid" alt="Porridge in a funnel">
              </div>
            </div>
          </div>
        </div>
      </div>
      <a class="carousel-control-prev bg-transparent w-aut" href="#recipeCarousel" role="button" data-bs-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      </a>
      <a class="carousel-control-next bg-transparent w-aut" href="#recipeCarousel" role="button" data-bs-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
      </a>
    </div>
  </div>		
</div>

<section>
  <div class="container-md my-5">
    <h1>
      Children are suffering from malnutrition
    </h1>
  </div>
</section>

<section>
  <div class="container-md my-5">
    <h1>
      Insect are a highly nutritious and sustainable food source
    </h1>
  </div>
</section>

<section>
  <div class="container-md my-5">
    <h1>
      Relief funds should be spent on healthy food
    </h1>
  </div>
</section>

<style>
  @media (max-width: 767px) {
		.carousel-inner .carousel-item > div {
			display: none;
		}
		.carousel-inner .carousel-item > div:first-child {
			display: block;
		}
	}

	.carousel-inner .carousel-item.active,
	.carousel-inner .carousel-item-next,
	.carousel-inner .carousel-item-prev {
		display: flex;
	}

	/* medium and up screens */
	@media (min-width: 768px) {

		.carousel-inner .carousel-item-end.active,
		.carousel-inner .carousel-item-next {
			transform: translateX(25%);
		}

		.carousel-inner .carousel-item-start.active, 
		.carousel-inner .carousel-item-prev {
			transform: translateX(-25%);
		}
	}

	.carousel-inner .carousel-item-end,
	.carousel-inner .carousel-item-start { 
		transform: translateX(0);
	}
</style>

<script>
  let items = document.querySelectorAll('.carousel .carousel-item')

items.forEach((el) => {
  const minPerSlide = 4
  let next = el.nextElementSibling
  for (var i=1; i<minPerSlide; i++) {
    if (!next) {
        // wrap carousel by using first child
        next = items[0]
    }
    let cloneChild = next.cloneNode(true)
    el.appendChild(cloneChild.children[0])
    next = next.nextElementSibling
}
})
</script>

{% endblock %}
